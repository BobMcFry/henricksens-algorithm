
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
    <title>Henricksens Algorithm</title>

  </head>
  <body onload="initialize();">

  <div id="debugCon" style="font-family:Consolas,Monaco,Lucida Console,Courier New, monospace;">
  </div>

    <script src="src/eventList.js"></script>
    <script src="src/output.js"></script>
    <script type="text/javascript" src="bower_components/jquery/dist/jquery.slim.min.js"></script>
    <script type="text/javascript" src="bower_components/sprintf/dist/sprintf.min.js"></script>
    <script type="text/javascript">

      function initialize() {
        var algo = new HenAlgorithm();
        var drawy = new HenAlgorithmOut(algo);
        var values = [];
        for (var i = 0; i < 99; i++) {
          values.push(i);
        }

        values = shuffle(values);

        // for (var i = 0; i < values.length; i++) {
        for (var i = values.length-1; i >= 0; i--) {
          algo.insert(values[i]);
          debugCon("Inserted: " + values[i], drawy.getStringRepresentation());
          // Removal
          // if (!algo.isEmpty() && Math.random() > 0.7) {
          //   var next = algo.next();
          //   debugCon("Removed: " + next.time, drawy.getStringRepresentation());
          // }
        }
      }


      // taken from: http://stackoverflow.com/questions/6274339/how-can-i-shuffle-an-array-in-javascript
      function shuffle(array) {
        let counter = array.length;

        // While there are elements in the array
        while (counter > 0) {
            // Pick a random index
            let index = Math.floor(Math.random() * counter);

            // Decrease counter by 1
            counter--;

            // And swap the last element with it
            let temp = array[counter];
            array[counter] = array[index];
            array[index] = temp;
        }

        return array;
      }

    </script>
  </body>
</html>